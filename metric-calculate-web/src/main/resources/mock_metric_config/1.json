{
  "id": 1,
  "name": "trade_detail",
  "derive": [
    {
      "id": 1,
      "name": "today_debit_asset",
      "displayName": "当天借方金额总和",
      "description": null,
      "dimension": [
        {
          "columnName": "account_no_out",
          "columnIndex": 0,
          "dimensionName": "account_no"
        }
      ],
      "timeColumn": {
        "columnName": "trans_date",
        "timeFormat": "yyyyMMdd",
        "columnIndex": null
      },
      "filter": null,
      "calculateLogic": "SUM",
      "baseUdafParam": {
        "aggregateType": "SUM",
        "metricExpress":"debit_amt_out"
      },
      "duration": 1,
      "timeUnit": "DAY",
      "roundAccuracy": {
        "useAccuracy": false,
        "length": null,
        "type": "NOT_HANDLE"
      }
    },
    {
      "id": 2,
      "name": "top4_debit_amt_out_desc",
      "displayName": "交易金额降序列表, 最多4个",
      "description": null,
      "dimension": [
        {
          "columnName": "account_no_in",
          "columnIndex": 2,
          "dimensionName": "account_no"
        }
      ],
      "timeColumn": {
        "columnName": "trans_timestamp",
        "timeFormat": "timestamp",
        "columnIndex": null
      },
      "filter": null,
      "calculateLogic": "SORTEDLISTFIELD",
      "duration": 2,
      "timeUnit": "DAY",
      "roundAccuracy": {
        "useAccuracy": false,
        "length": null,
        "type": "NOT_HANDLE"
      },
      "baseUdafParam": {
        "aggregateType": "SORTEDLISTFIELD",
        "retainExpress": "debit_amt_out",
        "collectiveSortFieldList": [
          {
            "express": "debit_amt_out",
            "asc": false
          }
        ],
        "param": {
          "limit": 4
        }
      }
    },
    {
      "id": 3,
      "name": "max_amount_timestamp",
      "displayName": "最大交易的金额的交易时间戳",
      "description": null,
      "dimension": [
        {
          "columnName": "account_no_in",
          "columnIndex": 2,
          "dimensionName": "account_no"
        }
      ],
      "timeColumn": {
        "columnName": "trans_timestamp",
        "timeFormat": "timestamp",
        "columnIndex": null
      },
      "filter": null,
      "calculateLogic": "MAXFIELD",
      "duration": 2,
      "timeUnit": "DAY",
      "roundAccuracy": {
        "useAccuracy": false,
        "length": null,
        "type": "NOT_HANDLE"
      },
      "baseUdafParam": {
        "aggregateType": "MAXFIELD",
        "retainExpress": "trans_timestamp",
        "objectiveCompareFieldList": [
          "debit_amt_out"
        ]
      }
    },
    {
      "id": 4,
      "name": "today_credit_sum_5",
      "displayName": "当天近5比交易贷方金额总和",
      "description": null,
      "dimension": [
        {
          "columnName": "account_no_in",
          "columnIndex": 2,
          "dimensionName": "account_no"
        }
      ],
      "timeColumn": {
        "columnName": "trans_timestamp",
        "timeFormat": "timestamp",
        "columnIndex": null
      },
      "filter": null,
      "calculateLogic": "LISTOBJECTCOUNTWINDOW",
      "duration": 1,
      "timeUnit": "DAY",
      "roundAccuracy": {
        "useAccuracy": false,
        "length": null,
        "type": "NOT_HANDLE"
      },
      "baseUdafParam": {
        "aggregateType": "LISTOBJECTCOUNTWINDOW",
        "param": {
          "limit": 5
        }
      },
      "externalBaseUdafParam": {
        "aggregateType": "SUM",
        "metricExpress": "debit_amt_out"
      }
    },
    {
      "id": 5,
      "name": "test_list_object",
      "displayName": "测试list_object",
      "description": null,
      "dimension": [
        {
          "columnName": "account_no_in",
          "columnIndex": 2,
          "dimensionName": "account_no"
        }
      ],
      "timeColumn": {
        "columnName": "trans_timestamp",
        "timeFormat": "timestamp",
        "columnIndex": null
      },
      "filter": null,
      "calculateLogic": "LISTOBJECT",
      "duration": 2,
      "timeUnit": "DAY",
      "roundAccuracy": {
        "useAccuracy": false,
        "length": null,
        "type": "NOT_HANDLE"
      },
      "baseUdafParam": {
        "aggregateType": "LISTOBJECT",
        "param": {
          "limit": 5
        }
      }
    },
    {
      "id": 6,
      "name": "test_sort_list_object",
      "displayName": "测试sort_list_object",
      "description": null,
      "dimension": [
        {
          "columnName": "account_no_in",
          "columnIndex": 2,
          "dimensionName": "account_no"
        }
      ],
      "timeColumn": {
        "columnName": "trans_timestamp",
        "timeFormat": "timestamp",
        "columnIndex": null
      },
      "filter": null,
      "calculateLogic": "SORTEDLISTOBJECT",
      "duration": 2,
      "timeUnit": "DAY",
      "roundAccuracy": {
        "useAccuracy": false,
        "length": null,
        "type": "NOT_HANDLE"
      },
      "baseUdafParam": {
        "aggregateType": "SORTEDLISTOBJECT",
        "collectiveSortFieldList": [
          {
            "express": "debit_amt_out",
            "asc": true
          }
        ],
        "param": {
          "limit": 5
        }
      }
    }
  ],
  "fields": [
    {
      "className": "trade_detail",
      "name": "trans_no",
      "valueType": "STRING"
    },
    {
      "className": "trade_detail",
      "name": "trans_jnls_no",
      "valueType": "STRING"
    },
    {
      "className": "trade_detail",
      "name": "account_no_out",
      "valueType": "STRING"
    },
    {
      "className": "trade_detail",
      "name": "account_no_in",
      "valueType": "STRING"
    },
    {
      "className": "trade_detail",
      "name": "credit_amt_out",
      "valueType": "DECIMAL"
    },
    {
      "className": "trade_detail",
      "name": "credit_amt_in",
      "valueType": "DECIMAL"
    },
    {
      "className": "trade_detail",
      "name": "debit_amt_out",
      "valueType": "DECIMAL"
    },
    {
      "className": "trade_detail",
      "name": "debit_amt_in",
      "valueType": "DECIMAL"
    },
    {
      "className": "trade_detail",
      "name": "d_c_flag_out",
      "valueType": "STRING"
    },
    {
      "className": "trade_detail",
      "name": "d_c_flag_in",
      "valueType": "STRING"
    },
    {
      "className": "trade_detail",
      "name": "trans_date",
      "valueType": "STRING"
    },
    {
      "className": "trade_detail",
      "name": "trans_time",
      "valueType": "STRING"
    },
    {
      "className": "trade_detail",
      "name": "trans_timestamp",
      "valueType": "STRING"
    }
  ]
}